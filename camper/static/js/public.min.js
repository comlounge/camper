(function(){$.fn.gallery=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;return null==a&&(a={}),b=null,c=null,e=null,d=null,t={x:0},m={x:0},g=-1,p=700,n=120,o=0,z=[],A=5,v=100,u=700,f=1.25,r=0,l=!1,s={x:0},k={x:0},C=0,j=10,h=[],i=10,w=null,q=function(){return b=$(this),c=b.find(".gallery"),e=b.find(".gallery-pictures"),d=b.find(".gallery-picture"),o=p+n,e.css({webkitFilter:"url('#blur')",filter:"url('#blur')"}),d.each(function(a){var c;return c=$(this),c.click(function(){return Math.abs(C)<j?y(a):void 0}),b.find(".gallery-pagination-dot").eq(a).click(function(){return y(a)})}),c.mousedown(function(a){return a.preventDefault(),l=!0,k.x=a.pageX,s.x=k.x,C=0,h=[],B(),E()}),$(document).mousemove(function(a){return l?k.x=a.pageX:void 0}),$(document).mouseup(function(a){var b,c,e,f,g,i,k;if(l){for(l=!1,c=0,i=0,k=h.length;k>i;i++)e=h[i],c+=e;if(c/=h.length,g=m.x+20*c,g=Math.round(g/o)*o,f=-g/o,b=0,0>f?(b=f,f=0):f>=d.length&&(b=f-(d.length-1),f=d.length-1),0!==b&&(g=-f*o),w=TweenMax.to(m,1-Math.abs(b)/20,{x:g,ease:Quint.easeOut,onUpdate:D,onComplete:D}),Math.abs(C)>=j)return a.preventDefault(),a.stopPropagation()}}),y(0,!1)},x=function(a){return v>a&&(a=0),a>u&&(a=u),a!==r&&$("#blur").get(0).firstElementChild.setAttribute("stdDeviation",a+",0"),r=a},y=function(a,b){return"undefined"==typeof b&&(b=!0),B(),TweenMax.to(m,null!=b?b:{.8:0},{x:-a*o,ease:Quint.easeOut,onUpdate:D,onComplete:D})},D=function(){var a,c,d;return TweenMax.set(e,{x:m.x+(b.width()-p)/2,force3D:!0,lazy:!0}),c=t.x-m.x,a=Math.abs(Math.round(c*f)),x(a),t.x=m.x,d=Math.round(-m.x/o),d!==g?(g=d,b.find(".gallery-pagination-dot-selected").removeClass("gallery-pagination-dot-selected"),b.find(".gallery-pagination-dot").eq(g).addClass("gallery-pagination-dot-selected")):void 0},E=function(){var a;if(l){for(D(),a=k.x-s.x,s.x=k.x,C+=a,h.push(a);h.length>i;)h.splice(0,1);return m.x+=a,requestAnimationFrame(E)}},B=function(){return null!==w?(w.kill(),w=null,D()):void 0},$(this).each(q),this},$(function(){var a,b,c,d,e,f;return $(".gallerycontainer").gallery(),$(".upload-widget").uploader(),$("[data-toggle=confirmation]").confirmation({popout:!0}),$('[data-toggle="editfield"]').click(function(){var a,b;return $(this).hide(),b=$(this).closest(".editfield"),a=$(b).find(".edit").show()}),$('[data-close="editfield"]').on("click",function(){var a,b;return $(this).closest(".edit").hide(),b=$(this).closest(".editfield"),a=$(b).find(".value").show(),!1}),$("form.edit").on("submit",function(){var a,b;return $(this).closest(".edit").hide(),b=$(this).closest(".editfield"),a=$(b).find(".value").show(),alert("Gespeichert"),!1}),$(".asset-delete").click(function(){var a,b,c;return a=$(this).data("confirm"),c=$(this).data("url"),b=$(this).data("idx"),confirm(a)?$.ajax({url:c,type:"POST",data:{method:"delete",idx:b},success:function(){return window.location.reload()}}):void 0}),$("#blog-add-button").click(function(){return $("#blog-add-button-container").slideUp(),$("#blog-add-form").slideDown()}),$("#blog-add-cancel-button").click(function(){return $("#blog-add-form")[0].reset(),$("#blog-add-button-container").slideDown(),$("#blog-add-form").slideUp(),!1}),$(".blog-delete-button").click(function(){var a,b,c;return b=$(this).data("msg"),a=$(this).data("idx"),c=$("#blog-add-form").attr("action"),confirm(b)&&$.ajax({url:c,type:"POST",data:{method:"delete",idx:a},success:function(){return window.location.reload()}}),!1}),$("a.form-submit").click(function(){var a,b;return a=$(this).attr("href"),b=$(this).closest("form"),b.attr("action",a),console.log(b.attr("method")),b.submit(),!1}),$(".action-confirm").click(function(){var a;return a=$(this).data("confirm"),confirm(a)?!0:!1}),$("#select-event").change(function(){return window.location=$("#select-event option:selected").attr("value")}),f=null,e=null,$(".open-location-modal").click(function(a){var b,c,d,g;return a.preventDefault(),g=$(this).data("title"),$("#location-title").text(g),b=$(this).data("accesstoken"),L.mapbox.accessToken=b,f||(f=L.mapbox.map("location-map","mapbox.streets")),c=$(this).data("lat"),d=$(this).data("lng"),f.setView([c,d],14),e&&f.removeLayer(e),e=L.mapbox.featureLayer({type:"Feature",geometry:{type:"Point",coordinates:[d,c]},properties:{title:g,description:"","marker-symbol":"star","marker-size":"medium","marker-color":"#f44"}}).addTo(f),$("#location-modal").modal("show")}),$("#location-modal").on("shown.bs.modal",function(){return f.invalidateSize()}),c=null,b=null,$(".event-location-map").each(function(){var a,d,f,g,h;return f=$(this).data("lat"),g=$(this).data("lng"),h=$(this).data("title"),d=$(this).data("description"),a=$(this).data("accesstoken"),L.mapbox.accessToken=a,c||(c=L.mapbox.map("event-location-map","mapbox.streets")),c.setView([f,g],14),b&&c.removeLayer(e),e=L.mapbox.featureLayer({type:"Feature",geometry:{type:"Point",coordinates:[g,f]},properties:{title:h,description:d,"marker-symbol":"star","marker-size":"medium","marker-color":"#f44"}}).addTo(c),c.invalidateSize()}),$('a[data-toggle="tab"]').on("shown.bs.tab",function(a){return"location-button"===a.target.id&&c?c.invalidateSize():void 0}),$(".share-on-facebook").click(function(a){var b,c;return a.preventDefault(),c=encodeURIComponent($(this).data("url")),b=window.open("//www.facebook.com/sharer.php?u="+c,"popupwindow","scrollbars=yes,width=800,height=400"),b.focus(),!1}),$(".share-on-googleplus").click(function(a){var b,c;return a.preventDefault(),c=encodeURIComponent($(this).data("url")),b=window.open("//plus.google.com/share?url="+c,"popupwindow","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600"),b.focus(),!1}),a=$("iframe[src*='youtube.com'], iframe[src*='vimeo']"),d=$("#sessions"),a.each(function(){return $(this).data("aspectRatio",this.height/this.width).removeAttr("height").removeAttr("width")}),$(window).resize(function(){var b;return b=d.width(),a.each(function(){var a;return a=$(this),a.width(b).height(b*a.data("aspectRatio"))})}).resize()}),function(){var a,b,c,d,f,g,h,i,j,k,l;if(!window.__twitterIntentHandler){for(c=/twitter\.com(\:\d{2,4})?\/intent\/(\w+)/,l="scrollbars=yes,resizable=yes,toolbar=no,location=yes",i=550,b=420,j=screen.height,k=screen.width,a=function(a){var b;return a=a||window.event,b=a.target||a.srcElement};g&&"a"!==g.nodeName.toLowerCase();)g=g.parentNode;return g&&"a"===g.nodeName.toLowerCase()&&g.href&&(f=g.href.match(c),f&&(d=Math.round(k/2-i/2),h=0,j>b&&(h=Math.round(j/2-b/2)),window.open(g.href,"intent",l+",width="+i+",height="+b+",left="+d+",top="+h),e.returnValue=!1,e.preventDefault&&e.preventDefault())),document.addEventListener?document.addEventListener("click",a,!1):document.attachEvent&&document.attachEvent("onclick",a),window.__twitterIntentHandler=!0}}()}).call(this),function(){$.fn.datafields=function(a){var b,c,d,e,f;return null==a&&(a={}),b=$(this),d=function(){return $(b).submit(function(){var a;return a=e(),console.log($(b).data("update_idx")),$(b).data("update_idx")>-1?$("table#participant_datafields tbody tr").eq($(b).data("update_idx")).replaceWith(a):$("table#participant_datafields").append(a),$("#datafield-modal").modal("hide"),!1}),$(".remove-datafield").live("click",function(){return $(this).parents("tr").remove(),$("input#pdatafields").val(f())}),$(".edit-datafield").live("click",function(){var a;return a=$(this).parents("tr"),$("#datafield-form").data("update_idx",$("table#participant_datafields tbody tr").index(a)),$("#datafield-form").find("input#name").val($(a).data("name")),$("#datafield-form").find("input#title").val($(a).data("title")),$("#datafield-form").find("textarea#description").val($(a).data("description")),$("#datafield-form").find("select#fieldtype").val($(a).data("fieldtype")),$(a).data("required")===!0&&$("#datafield-form").find("input#required").attr("checked",!0),$("#datafield-modal").modal("show")}),$("#datafield-modal").on("hidden",function(){return c(),$("input#pdatafields").val(f())}),$("input#pdatafields").val(f())},f=function(){var a;return a=[],$("table#participant_datafields tbody tr").each(function(){return a.push({name:$(this).data("name"),title:$(this).data("title"),description:$(this).data("description"),fieldtype:$(this).data("fieldtype"),required:$(this).data("required")})}),JSON.stringify(a)},c=function(){return $(b).data("update_idx",-1),$(b).find("input#name").val(""),$(b).find("input#title").val(""),$(b).find("textarea#description").val(""),$(b).find("select#fieldtype").find(":selected").removeAttr("selected"),$(b).find("input#required").attr("checked",!1)},e=function(){var a,b,c,d,e,f,g;return c=$("#datafield-form"),d=$(c).find("input#name").val(),g=$(c).find("input#title").val(),a=$(c).find("textarea#description").val(),b=$(c).find("select#fieldtype").find(":selected"),f=$(c).find("input#required").attr("checked"),e=$("<tr></tr>").attr("data-name",d).attr("data-title",g).attr("data-description",a).attr("data-fieldtype",b.val()).attr("data-required","checked"===f),$("<td></td>").text(d).appendTo(e),$("<td></td>").text(g).appendTo(e),$("<td></td>").text(a).appendTo(e),$("<td></td>").text(b.text()).appendTo(e),"checked"===f?$("<td></td>").html('<i class="icon-ok">').appendTo(e):$("<td></td>").appendTo(e),$('<td><button class="btn btn-mini btn-info edit-datafield" type="button"><i class="icon-white icon-pencil"></button></td><td><button class="btn btn-mini btn-danger remove-datafield" type="button"><i class="icon-white icon-trash"></button></td>').appendTo(e),e},$(this).each(d),this},$(document).ready(function(){return $("#datafield-form").datafields()})}.call(this),function(){$.fn.eventlist=function(a,b){var c,d,e,f,g;return e=null,d=null,g=function(a){var b;return b=$("#e-"+a.eid),b.find(".plabel").hide(),b.find(".dlabel").hide().css("font-weight","normal").find("i").remove(),b.find("button").hide(),a.participant||a.waitinglist||a.maybe?(b.find(".dropdown-toggle").removeClass("btn-info").removeClass("btn-success").removeClass("btn-warning"),a.participant?(b.find(".label-going").show(),b.find(".infolabel.plabel-going").show(),b.find(".infolabel.plabel-notgoing").hide(),b.find(".dlabel.maybe").show(),b.find(".dlabel.going").show().css("font-weight","bold").prepend('<i class="fa fa-check"></i> ').parent().addClass("disabled"),b.find(".dropdown-toggle").addClass("btn-success")):a.waitinglist?(b.find(".label-waitinglist").show(),b.find(".infolabel.plabel-going").hide(),b.find(".infolabel.plabel-notgoing").show(),b.find(".dlabel.maybe").show(),b.find(".dropdown-toggle").addClass("btn-warning"),b.find(".dlabel.going").show().css("font-weight","bold").prepend('<i class="fa fa-check"></i> ').parent().addClass("disabled")):a.maybe&&(b.find(".label-maybe").show(),b.find(".infolabel.plabel-going").hide(),b.find(".infolabel.plabel-notgoing").show(),b.find(".dlabel.going").show(),b.find(".dropdown-toggle").addClass("btn-info"),b.find(".dlabel.maybe").show().css("font-weight","bold").prepend('<i class="fa fa-check"></i> ').parent().addClass("disabled")),b.find(".pselect").css("display","inline-block"),b.find(".dropdown-toggle").show()):(a.full?b.find(".btn-joinwl").show():b.find(".btn-join").show(),b.find(".btn-maybe").show(),b.find(".infolabel.plabel-going").hide(),b.find(".infolabel.plabel-notgoing").show()),b.find(".filled").text(a.filled),b.find(".size").text(a.size),b=$("#ne-"+a.eid),b.find(".plabel").hide(),a.participant?b.find(".plabel-going").show():a.maybe?b.find(".plabel-maybe").show():a.waitinglist?b.find(".plabel-waiting").show():b.find(".plabel-not").show()},f=function(){return e=$(this).data("url"),$.ajax({url:e,type:"GET",success:function(a){var b,c,d,e;for(e=[],c=0,d=a.length;d>c;c++)b=a[c],e.push(g(b));return e}}),$(this).find(".actions > button").click(function(){return c(this)}),$(this).find(".dropdown-menu a").click(function(){return c(this)})},c=function(a){var b,c;return b=$(a).closest(".event").data("id"),c=$(a).data("status"),$.ajax({url:e,method:"POST",data:{eid:b,status:c},success:function(a){return g(a)},error:function(){return alert("An unknown error occurred, please try again")}})},$(this).each(f),this},$(function(){var a,b;return $("#eventlist").eventlist(),$(".participant-avatar").tooltip({container:"body"}),a=document.location.hash,b="tab_",a&&$(".nav-tabs a[href="+a.replace(b,"")+"]").tab("show"),$(".nav-tabs a").on("shown",function(a){return window.location.hash=a.target.hash.replace("#","#"+b)})})}.call(this),function(){$.fn.sessionvoter=function(a){var b;return null==a&&(a={}),b=function(){var a,b;return b=$(this).data("url"),a=this,$(this).find("a.vote").click(function(){return $.ajax({url:b,type:"POST",success:function(b){return $(a).find(".votes").text(b.votes),b.active?$(a).find("a.vote").removeClass("inactive").addClass("active"):$(a).find("a.vote").removeClass("active").addClass("inactive")}}),!1})},$(this).each(b),this},$(function(){return $(".votecontainer").sessionvoter(),$("#new-proposal-button").click(function(){return $(this).hide(),$("#proposal-form-container").show(),!1}),$("#proposal-cancel").click(function(){return $("#new-proposal-button").show(),$("#proposal-form-container").hide(),!1}),$(".session-edit-button").click(function(){return $(this).closest(".show-box").hide(),$(this).closest(".show-box").parent().find(".edit-box").show()}),$(".session-cancel-button").click(function(){return $(this).closest(".edit-box").hide(),$(this).closest(".edit-box").parent().find(".show-box").show()}),$(".session-delete-button").click(function(){var a,b,c;return a=$(this).data("confirm"),b=this,confirm(a)&&($(b).closest("article").css("background-color","red").slideUp(),c=$(this).data("url"),$.ajax({url:c,data:{method:"delete"},type:"POST",success:function(a){return"success"===a.status?$(b).closest("article").css("background-color","red").slideUp():void 0}})),!1}),$(".comment .deletebutton").click(function(){var a,b,c,d;return b=$(this).data("confirm"),d=$(this).data("url"),a=$(this).data("cid"),c=$(this).closest(".comment"),confirm(b)?($.ajax({url:d,type:"POST",data:{method:"delete",cid:a},success:function(a){return"success"===a.status?(c.css("background","red"),c.slideUp()):void 0}}),!1):!1}),$(".fav-actions .session-fav").click(function(){var a,b;return b=$(this).data("url"),a=this,$.ajax({url:b,type:"POST",success:function(b){return $(a).find("span.fav").hide(),b.fav?$(a).find("span.fav.yes").show():$(a).find("span.fav.no").show()}}),!1}),$(".toggle-favs").click(function(){var a;return $(this).toggleClass("active"),a=$(this).hasClass("active"),a?($(".sessionslot.cell .session-contents").hide(),$(".sessionslot.cell.faved .session-contents ").show()):$(".sessionslot.cell .session-contents").show(),!1})})}.call(this),function(){$.fn.uploader=function(a){var b,c,d;return null==a&&(a={}),b=!1,d=null,c=function(){var a,c,e,f,g,h,i,j;return j=this,g=$(this).data("preview-url"),h=$(this).data("upload-url"),c=$(this).data("delete-url"),e=$(this).data("id"),f=$("#"+e).val(),a="True"===$(this).data("autosubmit"),i=new qq.FileUploaderBasic({button:$(j).find(".uploadbutton")[0],action:h,multiple:!1,sizeLimit:10485760,allowedExtensions:["jpg","jpeg","png","gif"],onProgress:function(a,b,c,d){var e;return e=parseInt(Math.floor(c/d*100))+"%",$(j).find(".progress-bar").css("width",e)},onSubmit:function(){return $(j).find(".progress-bar").css("width","0%"),$(j).find(".progress").show(),$(j).find(".preview-area").hide(),$(j).find(".missing-area").hide(),$(j).find(".uploader-buttons").hide()},onComplete:function(c,f,g){return"error"===g.status?(b=!1,d=null,$(j).find(".upload-area").show(),$(j).find(".progress").hide(),$(j).find(".uploader-buttons").show(),!1):"success"===g.status?(b=!0,$("#"+e).val(g.asset_id),g.url&&!a&&($(j).find(".preview-area img").attr("src",g.url),$(j).find(".progress").hide(),$(j).find(".preview-area").show()),g.redirect?void(window.location=g.redirect):g.parent_redirect?(window.parent.window.location=g.parent_redirect,void window.close()):a?void $(j).closest("form").submit():($(j).find(".revertbutton").show(),$(j).find(".deletebutton").hide(),$(j).find(".upload-area").show(),$(j).find(".progress").hide(),$(j).find(".uploader-buttons").show())):void 0}}),$(this).find(".deletebutton").click(function(){return $(j).find(".preview-area img").attr("src",""),$(j).find(".preview-area").hide(),f||$(j).find(".missing-area").show(),$(j).find(".deletebutton").hide(),$(j).find(".revertbutton").show(),$("#"+e).val(""),!1}),$(this).find(".revertbutton").click(function(){return $(j).find(".revertbutton").hide(),$(j).find(".preview-area img").attr("src",g),$("#"+e).val(f),f?($(j).find(".preview-area").show(),$(j).find(".deletebutton").show()):($(j).find(".preview-area img").attr("src",""),$(j).find(".preview-area").hide(),$(j).find(".deletebutton").hide(),$(j).find(".missing-area").show()),!1})},$(this).each(c),this},$(function(){return $(".upload-widget").uploader()})}.call(this),function(a){var b=6e4,c=function(a){return a.toISOString().replace(/-|:|\.\d+/g,"")},d=function(a){return c(a.end?a.end:new Date(a.start.getTime()+a.duration*b))},e={google:function(a){var b=c(a.start),e=d(a),f=encodeURI(["https://www.google.com/calendar/render","?action=TEMPLATE","&text="+(a.title||""),"&dates="+(b||""),"/"+(e||""),"&details="+(a.description||""),"&location="+(a.address||""),"&sprop=&sprop=name:"].join(""));return'<li><a target="_blank" href="'+f+'"><i class="fa fa-google"></i> Google Calendar</a>'},yahoo:function(a){var d=a.end?(a.end.getTime()-a.start.getTime())/b:a.duration,e=600>d?"0"+Math.floor(d/60):Math.floor(d/60)+"",f=10>d%60?"0"+d%60:d%60+"",g=e+f,h=c(new Date(a.start-a.start.getTimezoneOffset()*b))||"",i=encodeURI(["http://calendar.yahoo.com/?v=60&view=d&type=20","&title="+(a.title||""),"&st="+h,"&dur="+(g||""),"&desc="+(a.description||""),"&in_loc="+(a.address||"")].join(""));return'<li><a target="_blank" href="'+i+'"><i class="fa fa-yahoo"></i> Yahoo! Calendar</a>'},ics:function(a,b,e){var f=c(a.start),g=d(a),h=encodeURI("data:text/calendar;charset=utf8,"+["BEGIN:VCALENDAR","VERSION:2.0","BEGIN:VEVENT","URL:"+document.URL,"DTSTART:"+(f||""),"DTEND:"+(g||""),"SUMMARY:"+(a.title||""),"DESCRIPTION:"+(a.description||""),"LOCATION:"+(a.address||""),"END:VEVENT","END:VCALENDAR"].join("\n"));return'<li><a target="_blank" href="'+h+'"><i class="fa '+b+'"></i> '+e+" Calendar</a>"},ical:function(a){return this.ics(a,"fa-apple","iCal")},outlook:function(a){return this.ics(a,"fa-windows","Outlook")}},f=function(a){return{google:e.google(a),yahoo:e.yahoo(a),ical:e.ical(a),outlook:e.outlook(a)}},g=function(a){return void 0!==a.data&&void 0!==a.data.start&&(void 0!==a.data.end||void 0!==a.data.duration)},h=function(a,b){var c=document.createElement("div");c.className="btn-group btn-block",c.innerHTML='<a type="button" class="btn btn-block btn-calendar dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">     <i class="fa fa-calendar"></i> '+a.options.title+' <span class="caret"></span></a>';var d=document.createElement("ul");return d.className="dropdown-menu",Object.keys(b).forEach(function(a){d.innerHTML+=b[a]}),c.appendChild(d),c},i=function(a){return a.options&&a.options.class?a.options.class:void 0},j=function(a){return a.options&&a.options.id?a.options.id:Math.floor(1e6*Math.random())};a.createCalendar=function(a){return g(a)?h(a,f(a.data),i(a),j(a)):void console.log("Event details missing.")}}(this);
//# sourceMappingURL=public.min.map