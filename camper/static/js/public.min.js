!function(){$.fn.gallery=function(t){var e,n,d,i,a,s,o,l,c,u,r,f,h,p,b,m,g,w,v,y;return null==t&&(t={}),h={x:0},c={x:0},a=-1,0,l=!1.25,f={x:r=u=0},o={x:0},w=0,s=[],0,p=d=i=n=e=null,t=function(){return e=$(this),n=e.find(".gallery"),i=e.find(".gallery-pictures"),d=e.find(".gallery-picture"),u=820,i.css({webkitFilter:"url('#blur')",filter:"url('#blur')"}),d.each(function(t){return $(this).click(function(){if(Math.abs(w)<10)return m(t)}),e.find(".gallery-pagination-dot").eq(t).click(function(){return m(t)})}),n.mousedown(function(t){return t.preventDefault(),l=!0,o.x=t.pageX,f.x=o.x,w=0,s=[],g(),y()}),$(document).mousemove(function(t){if(l)return o.x=t.pageX}),$(document).mouseup(function(t){var e,n,i,a,o,r;if(l){for(l=!1,n=a=0,i=s.length;n<i;n++)a+=s[n];if(a/=s.length,r=c.x+20*a,(o=-(r=Math.round(r/u)*u)/u)<(e=0)?(e=o,o=0):o>=d.length&&(e=o-(d.length-1),o=d.length-1),0!==e&&(r=-o*u),p=TweenMax.to(c,1-Math.abs(e)/20,{x:r,ease:Quint.easeOut,onUpdate:v,onComplete:v}),10<=Math.abs(w))return t.preventDefault(),t.stopPropagation()}}),m(0,!1)},b=function(t){return(t=700<(t=t<100?0:t)?700:t)!==r&&$("#blur").get(0).firstElementChild.setAttribute("stdDeviation",t+",0"),r=t},m=function(t,e){return void 0===e&&(e=!0),g(),TweenMax.to(c,null!=e?e:{.8:0},{x:-t*u,ease:Quint.easeOut,onUpdate:v,onComplete:v})},v=function(){var t;if(TweenMax.set(i,{x:c.x+(e.width()-700)/2,force3D:!0,lazy:!0}),t=h.x-c.x,t=Math.abs(Math.round(1.25*t)),b(t),h.x=c.x,(t=Math.round(-c.x/u))!==a)return a=t,e.find(".gallery-pagination-dot-selected").removeClass("gallery-pagination-dot-selected"),e.find(".gallery-pagination-dot").eq(a).addClass("gallery-pagination-dot-selected")},y=function(){var t;if(l){for(v(),t=o.x-f.x,f.x=o.x,w+=t,s.push(t);10<s.length;)s.splice(0,1);return c.x+=t,requestAnimationFrame(y)}},g=function(){if(null!==p)return p.kill(),p=null,v()},$(this).each(t),this},$(function(){var t,d,n,s,i;return $(".gallerycontainer").gallery(),$(".upload-widget").uploader(),$("[data-toggle=confirmation]").confirmation({popout:!0}),$('[data-toggle="editfield"]').click(function(){var t;return $(this).hide(),t=$(this).closest(".editfield"),$(t).find(".edit").show()}),$('[data-close="editfield"]').on("click",function(){var t;return $(this).closest(".edit").hide(),t=$(this).closest(".editfield"),$(t).find(".value").show(),!1}),$("form.edit").on("submit",function(){var t;return $(this).closest(".edit").hide(),t=$(this).closest(".editfield"),$(t).find(".value").show(),alert("Gespeichert"),!1}),$(".asset-delete").click(function(){var t=$(this).data("confirm"),e=$(this).data("url"),n=$(this).data("idx");if(confirm(t))return $.ajax({url:e,type:"POST",data:{method:"delete",idx:n},success:function(){return window.location.reload()}})}),$("#blog-add-button").click(function(){return $("#blog-add-button-container").slideUp(),$("#blog-add-form").slideDown()}),$("#blog-add-cancel-button").click(function(){return $("#blog-add-form")[0].reset(),$("#blog-add-button-container").slideDown(),$("#blog-add-form").slideUp(),!1}),$(".blog-delete-button").click(function(){var t=$(this).data("msg"),e=$(this).data("idx"),n=$("#blog-add-form").attr("action");return confirm(t)&&$.ajax({url:n,type:"POST",data:{method:"delete",idx:e},success:function(){return window.location.reload()}}),!1}),$("a.form-submit").click(function(){var t=$(this).attr("href"),e=$(this).closest("form");return e.attr("action",t),console.log(e.attr("method")),e.submit(),!1}),$(".action-confirm").click(function(){var t=$(this).data("confirm");return!!confirm(t)}),$("#select-event").change(function(){return window.location=$("#select-event option:selected").attr("value")}),s=i=null,$(".open-location-modal").click(function(t){var e,n;return t.preventDefault(),n=$(this).data("title"),$("#location-title").text(n),e=$(this).data("accesstoken"),L.mapbox.accessToken=e,i=i||L.mapbox.map("location-map").addLayer(L.mapbox.styleLayer("mapbox://styles/mapbox/streets-v11")),t=$(this).data("lat"),e=$(this).data("lng"),i.setView([t,e],14),s&&i.removeLayer(s),s=L.mapbox.featureLayer({type:"Feature",geometry:{type:"Point",coordinates:[e,t]},properties:{title:n,description:"","marker-symbol":"star","marker-size":"medium","marker-color":"#f44"}}).addTo(i),$("#location-modal").modal("show")}),$("#location-modal").on("shown.bs.modal",function(){return i.invalidateSize()}),d=null,$(".event-location-map").each(function(t,e){var n=$(this).data("lat"),i=$(this).data("lng"),a=$(this).data("title"),o=$(this).data("description"),r=$(this).data("accesstoken");return L.mapbox.accessToken=r,(d=d||L.mapbox.map("event-location-map").addLayer(L.mapbox.styleLayer("mapbox://styles/mapbox/streets-v11"))).setView([n,i],14),s=L.mapbox.featureLayer({type:"Feature",geometry:{type:"Point",coordinates:[i,n]},properties:{title:a,description:o,"marker-symbol":"star","marker-size":"medium","marker-color":"#f44"}}).addTo(d),d.invalidateSize()}),$('a[data-toggle="tab"]').on("shown.bs.tab",function(t){if("location-button"===t.target.id&&d)return d.invalidateSize()}),$(".share-on-facebook").click(function(t){return t.preventDefault(),t=encodeURIComponent($(this).data("url")),window.open("//www.facebook.com/sharer.php?u="+t,"popupwindow","scrollbars=yes,width=800,height=400").focus(),!1}),$(".share-on-googleplus").click(function(t){return t.preventDefault(),t=encodeURIComponent($(this).data("url")),window.open("//plus.google.com/share?url="+t,"popupwindow","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600").focus(),!1}),t=$("iframe[src*='youtube.com'], iframe[src*='vimeo']"),n=$("#sessions"),t.each(function(){return $(this).data("aspectRatio",this.height/this.width).removeAttr("height").removeAttr("width")}),$(window).resize(function(){var e=n.width();return t.each(function(){var t=$(this);return t.width(e).height(e*t.data("aspectRatio"))})}).resize()}),function(){var t,n,i,a,o;if(!window.__twitterIntentHandler){for(n=/twitter\.com(\:\d{2,4})?\/intent\/(\w+)/,a=screen.height,o=screen.width,t=function(t){return(t=t||window.event).target||t.srcElement};i&&"a"!==i.nodeName.toLowerCase();)i=i.parentNode;i&&"a"===i.nodeName.toLowerCase()&&i.href&&i.href.match(n)&&(n=Math.round(o/2-275),o=0,420<a&&(o=Math.round(a/2-210)),window.open(i.href,"intent","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,left="+n+",top="+o),e.returnValue=!1,e.preventDefault&&e.preventDefault()),document.addEventListener?document.addEventListener("click",t,!1):document.attachEvent&&document.attachEvent("onclick",t),window.__twitterIntentHandler=!0}}()}.call(this),function(){$.fn.datafields=function(t){var e,n,i,a;return null==t&&(t={}),e=$(this),t=function(){return $(e).submit(function(){var t=i();return console.log($(e).data("update_idx")),-1<$(e).data("update_idx")?$("table#participant_datafields tbody tr").eq($(e).data("update_idx")).replaceWith(t):$("table#participant_datafields").append(t),$("#datafield-modal").modal("hide"),!1}),$(".remove-datafield").live("click",function(t){return $(this).parents("tr").remove(),$("input#pdatafields").val(a())}),$(".edit-datafield").live("click",function(t){var e=$(this).parents("tr");return $("#datafield-form").data("update_idx",$("table#participant_datafields tbody tr").index(e)),$("#datafield-form").find("input#name").val($(e).data("name")),$("#datafield-form").find("input#title").val($(e).data("title")),$("#datafield-form").find("textarea#description").val($(e).data("description")),$("#datafield-form").find("select#fieldtype").val($(e).data("fieldtype")),!0===$(e).data("required")&&$("#datafield-form").find("input#required").attr("checked",!0),$("#datafield-modal").modal("show")}),$("#datafield-modal").on("hidden",function(){return n(),$("input#pdatafields").val(a())}),$("input#pdatafields").val(a())},a=function(){var t=[];return $("table#participant_datafields tbody tr").each(function(){return t.push({name:$(this).data("name"),title:$(this).data("title"),description:$(this).data("description"),fieldtype:$(this).data("fieldtype"),required:$(this).data("required")})}),JSON.stringify(t)},n=function(){return $(e).data("update_idx",-1),$(e).find("input#name").val(""),$(e).find("input#title").val(""),$(e).find("textarea#description").val(""),$(e).find("select#fieldtype").find(":selected").removeAttr("selected"),$(e).find("input#required").attr("checked",!1)},i=function(){var t=$("#datafield-form"),e=$(t).find("input#name").val(),n=$(t).find("input#title").val(),i=$(t).find("textarea#description").val(),a=$(t).find("select#fieldtype").find(":selected"),o=$(t).find("input#required").attr("checked"),t=$("<tr></tr>").attr("data-name",e).attr("data-title",n).attr("data-description",i).attr("data-fieldtype",a.val()).attr("data-required","checked"===o);return $("<td></td>").text(e).appendTo(t),$("<td></td>").text(n).appendTo(t),$("<td></td>").text(i).appendTo(t),$("<td></td>").text(a.text()).appendTo(t),("checked"===o?$("<td></td>").html('<i class="icon-ok">'):$("<td></td>")).appendTo(t),$('<td><button class="btn btn-mini btn-info edit-datafield" type="button"><i class="icon-white icon-pencil"></button></td><td><button class="btn btn-mini btn-danger remove-datafield" type="button"><i class="icon-white icon-trash"></button></td>').appendTo(t),t},$(this).each(t),this},$(document).ready(function(){return $("#datafield-form").datafields()})}.call(this),function(){$.fn.eventlist=function(t,e){var n=null,o=function(t){var e=$("#e-"+t.eid);return e.find(".plabel").hide(),e.find(".dlabel").hide().css("font-weight","normal").find("i").remove(),e.find("button").hide(),t.participant||t.waitinglist||t.maybe?(e.find(".dropdown-toggle").removeClass("btn-info").removeClass("btn-success").removeClass("btn-warning"),t.participant?(e.find(".label-going").show(),e.find(".infolabel.plabel-going").show(),e.find(".infolabel.plabel-notgoing").hide(),e.find(".dlabel.maybe").show(),e.find(".dlabel.going").show().css("font-weight","bold").prepend('<i class="fa fa-check"></i> ').parent().addClass("disabled"),e.find(".dropdown-toggle").addClass("btn-success")):t.waitinglist?(e.find(".label-waitinglist").show(),e.find(".infolabel.plabel-going").hide(),e.find(".infolabel.plabel-notgoing").show(),e.find(".dlabel.maybe").show(),e.find(".dropdown-toggle").addClass("btn-warning"),e.find(".dlabel.going").show().css("font-weight","bold").prepend('<i class="fa fa-check"></i> ').parent().addClass("disabled")):t.maybe&&(e.find(".label-maybe").show(),e.find(".infolabel.plabel-going").hide(),e.find(".infolabel.plabel-notgoing").show(),e.find(".dlabel.going").show(),e.find(".dropdown-toggle").addClass("btn-info"),e.find(".dlabel.maybe").show().css("font-weight","bold").prepend('<i class="fa fa-check"></i> ').parent().addClass("disabled")),e.find(".pselect").css("display","inline-block"),e.find(".dropdown-toggle").show()):((t.full?e.find(".btn-joinwl"):e.find(".btn-join")).show(),e.find(".btn-maybe").show(),e.find(".infolabel.plabel-going").hide(),e.find(".infolabel.plabel-notgoing").show()),e.find(".filled").text(t.filled),e.find(".size").text(t.size),(e=$("#ne-"+t.eid)).find(".plabel").hide(),(t.participant?e.find(".plabel-going"):t.maybe?e.find(".plabel-maybe"):t.waitinglist?e.find(".plabel-waiting"):e.find(".plabel-not")).show()},i=function(){return n=$(this).data("url"),$.ajax({url:n,type:"GET",success:function(t){for(var e,n=[],i=0,a=t.length;i<a;i++)e=t[i],n.push(o(e));return n}}),$(this).find(".actions > button").click(function(){return a(this)}),$(this).find(".dropdown-menu a").click(function(){return a(this)})},a=function(t){var e=$(t).closest(".event").data("id"),t=$(t).data("status");return $.ajax({url:n,method:"POST",data:{eid:e,status:t},success:o,error:function(){return alert("An unknown error occurred, please try again")}})};return $(this).each(i),this},$(function(){var t;return $("#eventlist").eventlist(),$(".participant-avatar").tooltip({container:"body"}),t=document.location.hash,t&&$(".nav-tabs a[href="+t.replace("tab_","")+"]").tab("show"),$(".nav-tabs a").on("shown",function(t){return window.location.hash=t.target.hash.replace("#","#tab_")})})}.call(this),function(){$.fn.sessionvoter=function(t){return null==t&&(t={}),t=function(){var t=$(this).data("url"),n=this;return $(this).find("a.vote").click(function(){return $.ajax({url:t,type:"POST",success:function(t,e){return $(n).find(".votes").text(t.votes),t.active?$(n).find("a.vote").removeClass("inactive").addClass("active"):$(n).find("a.vote").removeClass("active").addClass("inactive")}}),!1})},$(this).each(t),this},$(function(){return $(".votecontainer").sessionvoter(),$("#new-proposal-button").click(function(){return $(this).hide(),$("#proposal-form-container").show(),!1}),$("#proposal-cancel").click(function(){return $("#new-proposal-button").show(),$("#proposal-form-container").hide(),!1}),$(".session-edit-button").click(function(){return $(this).closest(".show-box").hide(),$(this).closest(".show-box").parent().find(".edit-box").show()}),$(".session-cancel-button").click(function(){return $(this).closest(".edit-box").hide(),$(this).closest(".edit-box").parent().find(".show-box").show()}),$(".session-delete-button").click(function(){var t=$(this).data("confirm"),n=this;return confirm(t)&&($(n).closest("article").css("background-color","red").slideUp(),t=$(this).data("url"),$.ajax({url:t,data:{method:"delete"},type:"POST",success:function(t,e){if("success"===t.status)return $(n).closest("article").css("background-color","red").slideUp()}})),!1}),$(".comment .deletebutton").click(function(){var t=$(this).data("confirm"),e=$(this).data("url"),n=$(this).data("cid"),i=$(this).closest(".comment");return confirm(t)&&$.ajax({url:e,type:"POST",data:{method:"delete",cid:n},success:function(t){if("success"===t.status)return i.css("background","red"),i.slideUp()}}),!1}),$(".fav-actions .session-fav").click(function(){var t=$(this).data("url"),e=this;return $.ajax({url:t,type:"POST",success:function(t){return $(e).find("span.fav").hide(),t.fav?($(e).find("span.fav.yes").show(),$(e).closest(".sessionslot").addClass("faved")):($(e).find("span.fav.no").show(),$(e).closest(".sessionslot").removeClass("faved"))}}),!1}),$(".toggle-favs").click(function(){return $(this).toggleClass("active"),$(this).hasClass("active")?($(".sessionslot.cell .session-contents").hide(),$(".sessionslot.cell.faved .session-contents ").show()):$(".sessionslot.cell .session-contents").show(),!1})})}.call(this),function(){$.fn.uploader=function(t){return null==t&&(t={}),t=function(t){var a=this,e=$(this).data("preview-url"),n=$(this).data("upload-url"),i=($(this).data("delete-url"),$(this).data("id")),o=$("#"+i).val(),r="True"===$(this).data("autosubmit");new qq.FileUploaderBasic({button:$(a).find(".uploadbutton")[0],action:n,multiple:!1,sizeLimit:10485760,allowedExtensions:["jpg","jpeg","png","gif"],onProgress:function(t,e,n,i){i=parseInt(Math.floor(n/i*100))+"%";return $(a).find(".progress-bar").css("width",i)},onSubmit:function(t,e){return $(a).find(".progress-bar").css("width","0%"),$(a).find(".progress").show(),$(a).find(".preview-area").hide(),$(a).find(".missing-area").hide(),$(a).find(".uploader-buttons").hide()},onComplete:function(t,e,n){if("error"===n.status)return $(a).find(".upload-area").show(),$(a).find(".progress").hide(),$(a).find(".uploader-buttons").show(),!1;if("success"===n.status){if($("#"+i).val(n.asset_id),n.url&&!r&&($(a).find(".preview-area img").attr("src",n.url),$(a).find(".progress").hide(),$(a).find(".preview-area").show()),!n.redirect)return n.parent_redirect?(window.parent.window.location=n.parent_redirect,void window.close()):r?void $(a).closest("form").submit():($(a).find(".revertbutton").show(),$(a).find(".deletebutton").hide(),$(a).find(".upload-area").show(),$(a).find(".progress").hide(),$(a).find(".uploader-buttons").show());window.location=n.redirect}}});return $(this).find(".deletebutton").click(function(){return $(a).find(".preview-area img").attr("src",""),$(a).find(".preview-area").hide(),o||$(a).find(".missing-area").show(),$(a).find(".deletebutton").hide(),$(a).find(".revertbutton").show(),$("#"+i).val(""),!1}),$(this).find(".revertbutton").click(function(){return $(a).find(".revertbutton").hide(),$(a).find(".preview-area img").attr("src",e),$("#"+i).val(o),o?($(a).find(".preview-area").show(),$(a).find(".deletebutton").show()):($(a).find(".preview-area img").attr("src",""),$(a).find(".preview-area").hide(),$(a).find(".deletebutton").hide(),$(a).find(".missing-area").show()),!1})},$(this).each(t),this},$(function(){return $(".upload-widget").uploader()})}.call(this),function(t){function o(t){return t.toISOString().replace(/-|:|\.\d+/g,"")}function r(t){return t.end?o(t.end):o(new Date(t.start.getTime()+6e4*t.duration))}var n={google:function(t){var e=o(t.start),n=r(t);return'<li><a target="_blank" href="'+encodeURI(["https://www.google.com/calendar/render","?action=TEMPLATE","&text="+(t.title||""),"&dates="+(e||""),"/"+(n||""),"&details="+(t.description||""),"&location="+(t.address||""),"&sprop=&sprop=name:"].join(""))+'"><i class="fa fa-google"></i> Google Calendar</a>'},yahoo:function(t){var e=t.end?(t.end.getTime()-t.start.getTime())/6e4:t.duration,n=(e<600?"0"+Math.floor(e/60):Math.floor(e/60)+"")+(e%60<10?"0"+e%60:e%60+""),e=o(new Date(t.start-6e4*t.start.getTimezoneOffset()))||"";return'<li><a target="_blank" href="'+encodeURI(["http://calendar.yahoo.com/?v=60&view=d&type=20","&title="+(t.title||""),"&st="+e,"&dur="+(n||""),"&desc="+(t.description||""),"&in_loc="+(t.address||"")].join(""))+'"><i class="fa fa-yahoo"></i> Yahoo! Calendar</a>'},ics:function(t,e,n){var i=o(t.start),a=r(t);return'<li><a target="_blank" href="'+encodeURI("data:text/calendar;charset=utf8,"+["BEGIN:VCALENDAR","VERSION:2.0","BEGIN:VEVENT","URL:"+document.URL,"DTSTART:"+(i||""),"DTEND:"+(a||""),"SUMMARY:"+(t.title||""),"DESCRIPTION:"+(t.description||""),"LOCATION:"+(t.address||""),"END:VEVENT","END:VCALENDAR"].join("\n"))+'"><i class="fa '+e+'"></i> '+n+" Calendar</a>"},ical:function(t){return this.ics(t,"fa-apple","iCal")},outlook:function(t){return this.ics(t,"fa-windows","Outlook")}};t.createCalendar=function(t){var e;if(void 0!==(e=t).data&&void 0!==e.data.start&&(void 0!==e.data.end||void 0!==e.data.duration))return function(t,e){var n=document.createElement("div");n.className="btn-group btn-block",n.innerHTML='<a type="button" class="btn btn-block btn-calendar dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">     <i class="fa fa-calendar"></i> '+t.options.title+' <span class="caret"></span></a>';var i=document.createElement("ul");return i.className="dropdown-menu",Object.keys(e).forEach(function(t){i.innerHTML+=e[t]}),n.appendChild(i),n}(t,(e=t.data,{google:n.google(e),yahoo:n.yahoo(e),ical:n.ical(e),outlook:n.outlook(e)}),(function(t){if(t.options&&t.options.class)t.options.class}(t),(t=t).options&&t.options.id?t.options.id:Math.floor(1e6*Math.random())));console.log("Event details missing.")}}(this);
//# sourceMappingURL=public.min.js.map