(function(){$.fn.gallery=function(t){var i,e,d,a,o,s,n,l,c,u,r,f,h,p,b,m,g,w,v,x,y;return null==t&&(t={}),p={x:0},c={x:0},o=-1,0,l=!1.25,h={x:f=u=0},n={x:0},v=0,s=[],0,b=d=a=e=i=null,r=function(){return i=$(this),e=i.find(".gallery"),a=i.find(".gallery-pictures"),d=i.find(".gallery-picture"),u=820,a.css({webkitFilter:"url('#blur')",filter:"url('#blur')"}),d.each(function(t){return $(this).click(function(){if(Math.abs(v)<10)return g(t)}),i.find(".gallery-pagination-dot").eq(t).click(function(){return g(t)})}),e.mousedown(function(t){return t.preventDefault(),l=!0,n.x=t.pageX,h.x=n.x,v=0,s=[],w(),y()}),$(document).mousemove(function(t){if(l)return n.x=t.pageX}),$(document).mouseup(function(t){var e,n,i,a,o,r;if(l){for(l=!1,n=a=0,i=s.length;n<i;n++)a+=s[n];if(a/=s.length,r=c.x+20*a,(o=-(r=Math.round(r/u)*u)/u)<(e=0)?(e=o,o=0):o>=d.length&&(e=o-(d.length-1),o=d.length-1),0!==e&&(r=-o*u),b=TweenMax.to(c,1-Math.abs(e)/20,{x:r,ease:Quint.easeOut,onUpdate:x,onComplete:x}),10<=Math.abs(v))return t.preventDefault(),t.stopPropagation()}}),g(0,!1)},m=function(t){return t<100&&(t=0),700<t&&(t=700),t!==f&&$("#blur").get(0).firstElementChild.setAttribute("stdDeviation",t+",0"),f=t},g=function(t,e){return void 0===e&&(e=!0),w(),TweenMax.to(c,null!=e?e:{.8:0},{x:-t*u,ease:Quint.easeOut,onUpdate:x,onComplete:x})},x=function(){var t,e,n;if(TweenMax.set(a,{x:c.x+(i.width()-700)/2,force3D:!0,lazy:!0}),n=p.x-c.x,e=Math.abs(Math.round(1.25*n)),m(e),p.x=c.x,(t=Math.round(-c.x/u))!==o)return o=t,i.find(".gallery-pagination-dot-selected").removeClass("gallery-pagination-dot-selected"),i.find(".gallery-pagination-dot").eq(o).addClass("gallery-pagination-dot-selected")},y=function(){var t;if(l){for(x(),t=n.x-h.x,h.x=n.x,v+=t,s.push(t);10<s.length;)s.splice(0,1);return c.x+=t,requestAnimationFrame(y)}},w=function(){if(null!==b)return b.kill(),b=null,x()},$(this).each(r),this},$(function(){var t,d,n,s,o;return $(".gallerycontainer").gallery(),$(".upload-widget").uploader(),$("[data-toggle=confirmation]").confirmation({popout:!0}),$('[data-toggle="editfield"]').click(function(){var t;return $(this).hide(),t=$(this).closest(".editfield"),$(t).find(".edit").show()}),$('[data-close="editfield"]').on("click",function(){var t;return $(this).closest(".edit").hide(),t=$(this).closest(".editfield"),$(t).find(".value").show(),!1}),$("form.edit").on("submit",function(){var t;return $(this).closest(".edit").hide(),t=$(this).closest(".editfield"),$(t).find(".value").show(),alert("Gespeichert"),!1}),$(".asset-delete").click(function(){var t,e,n;if(t=$(this).data("confirm"),n=$(this).data("url"),e=$(this).data("idx"),confirm(t))return $.ajax({url:n,type:"POST",data:{method:"delete",idx:e},success:function(){return window.location.reload()}})}),$("#blog-add-button").click(function(){return $("#blog-add-button-container").slideUp(),$("#blog-add-form").slideDown()}),$("#blog-add-cancel-button").click(function(){return $("#blog-add-form")[0].reset(),$("#blog-add-button-container").slideDown(),$("#blog-add-form").slideUp(),!1}),$(".blog-delete-button").click(function(){var t,e,n;return e=$(this).data("msg"),t=$(this).data("idx"),n=$("#blog-add-form").attr("action"),confirm(e)&&$.ajax({url:n,type:"POST",data:{method:"delete",idx:t},success:function(){return window.location.reload()}}),!1}),$("a.form-submit").click(function(){var t,e;return t=$(this).attr("href"),(e=$(this).closest("form")).attr("action",t),console.log(e.attr("method")),e.submit(),!1}),$(".action-confirm").click(function(){var t;return t=$(this).data("confirm"),!!confirm(t)}),$("#select-event").change(function(){return window.location=$("#select-event option:selected").attr("value")}),s=o=null,$(".open-location-modal").click(function(t){var e,n,i,a;return t.preventDefault(),a=$(this).data("title"),$("#location-title").text(a),e=$(this).data("accesstoken"),L.mapbox.accessToken=e,o=o||L.mapbox.map("location-map","mapbox.streets"),n=$(this).data("lat"),i=$(this).data("lng"),o.setView([n,i],14),s&&o.removeLayer(s),s=L.mapbox.featureLayer({type:"Feature",geometry:{type:"Point",coordinates:[i,n]},properties:{title:a,description:"","marker-symbol":"star","marker-size":"medium","marker-color":"#f44"}}).addTo(o),$("#location-modal").modal("show")}),$("#location-modal").on("shown.bs.modal",function(){return o.invalidateSize()}),d=null,$(".event-location-map").each(function(t,e){var n,i,a,o,r;return a=$(this).data("lat"),o=$(this).data("lng"),r=$(this).data("title"),i=$(this).data("description"),n=$(this).data("accesstoken"),L.mapbox.accessToken=n,(d=d||L.mapbox.map("event-location-map","mapbox.streets")).setView([a,o],14),s=L.mapbox.featureLayer({type:"Feature",geometry:{type:"Point",coordinates:[o,a]},properties:{title:r,description:i,"marker-symbol":"star","marker-size":"medium","marker-color":"#f44"}}).addTo(d),d.invalidateSize()}),$('a[data-toggle="tab"]').on("shown.bs.tab",function(t){if("location-button"===t.target.id&&d)return d.invalidateSize()}),$(".share-on-facebook").click(function(t){var e;return t.preventDefault(),e=encodeURIComponent($(this).data("url")),window.open("//www.facebook.com/sharer.php?u="+e,"popupwindow","scrollbars=yes,width=800,height=400").focus(),!1}),$(".share-on-googleplus").click(function(t){var e;return t.preventDefault(),e=encodeURIComponent($(this).data("url")),window.open("//plus.google.com/share?url="+e,"popupwindow","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600").focus(),!1}),t=$("iframe[src*='youtube.com'], iframe[src*='vimeo']"),n=$("#sessions"),t.each(function(){return $(this).data("aspectRatio",this.height/this.width).removeAttr("height").removeAttr("width")}),$(window).resize(function(){var e;return e=n.width(),t.each(function(){var t;return(t=$(this)).width(e).height(e*t.data("aspectRatio"))})}).resize()}),function(){var t,n,i,a,o,r,d;if(!window.__twitterIntentHandler){for(n=/twitter\.com(\:\d{2,4})?\/intent\/(\w+)/,r=screen.height,d=screen.width,t=function(t){return(t=t||window.event).target||t.srcElement};a&&"a"!==a.nodeName.toLowerCase();)a=a.parentNode;a&&"a"===a.nodeName.toLowerCase()&&a.href&&a.href.match(n)&&(i=Math.round(d/2-275),o=0,420<r&&(o=Math.round(r/2-210)),window.open(a.href,"intent","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,left="+i+",top="+o),e.returnValue=!1,e.preventDefault&&e.preventDefault()),document.addEventListener?document.addEventListener("click",t,!1):document.attachEvent&&document.attachEvent("onclick",t),window.__twitterIntentHandler=!0}}()}).call(this),function(){$.fn.datafields=function(t){var e,n,i,a,o;return null==t&&(t={}),e=$(this),i=function(){return $(e).submit(function(){var t;return t=a(),console.log($(e).data("update_idx")),-1<$(e).data("update_idx")?$("table#participant_datafields tbody tr").eq($(e).data("update_idx")).replaceWith(t):$("table#participant_datafields").append(t),$("#datafield-modal").modal("hide"),!1}),$(".remove-datafield").live("click",function(t){return $(this).parents("tr").remove(),$("input#pdatafields").val(o())}),$(".edit-datafield").live("click",function(t){var e;return e=$(this).parents("tr"),$("#datafield-form").data("update_idx",$("table#participant_datafields tbody tr").index(e)),$("#datafield-form").find("input#name").val($(e).data("name")),$("#datafield-form").find("input#title").val($(e).data("title")),$("#datafield-form").find("textarea#description").val($(e).data("description")),$("#datafield-form").find("select#fieldtype").val($(e).data("fieldtype")),!0===$(e).data("required")&&$("#datafield-form").find("input#required").attr("checked",!0),$("#datafield-modal").modal("show")}),$("#datafield-modal").on("hidden",function(){return n(),$("input#pdatafields").val(o())}),$("input#pdatafields").val(o())},o=function(){var t;return t=[],$("table#participant_datafields tbody tr").each(function(){return t.push({name:$(this).data("name"),title:$(this).data("title"),description:$(this).data("description"),fieldtype:$(this).data("fieldtype"),required:$(this).data("required")})}),JSON.stringify(t)},n=function(){return $(e).data("update_idx",-1),$(e).find("input#name").val(""),$(e).find("input#title").val(""),$(e).find("textarea#description").val(""),$(e).find("select#fieldtype").find(":selected").removeAttr("selected"),$(e).find("input#required").attr("checked",!1)},a=function(){var t,e,n,i,a,o,r;return n=$("#datafield-form"),i=$(n).find("input#name").val(),r=$(n).find("input#title").val(),t=$(n).find("textarea#description").val(),e=$(n).find("select#fieldtype").find(":selected"),o=$(n).find("input#required").attr("checked"),a=$("<tr></tr>").attr("data-name",i).attr("data-title",r).attr("data-description",t).attr("data-fieldtype",e.val()).attr("data-required","checked"===o),$("<td></td>").text(i).appendTo(a),$("<td></td>").text(r).appendTo(a),$("<td></td>").text(t).appendTo(a),$("<td></td>").text(e.text()).appendTo(a),"checked"===o?$("<td></td>").html('<i class="icon-ok">').appendTo(a):$("<td></td>").appendTo(a),$('<td><button class="btn btn-mini btn-info edit-datafield" type="button"><i class="icon-white icon-pencil"></button></td><td><button class="btn btn-mini btn-danger remove-datafield" type="button"><i class="icon-white icon-trash"></button></td>').appendTo(a),a},$(this).each(i),this},$(document).ready(function(){return $("#datafield-form").datafields()})}.call(this),function(){$.fn.eventlist=function(t,e){var n,i,a,o;return i=null,o=function(t){var e;return(e=$("#e-"+t.eid)).find(".plabel").hide(),e.find(".dlabel").hide().css("font-weight","normal").find("i").remove(),e.find("button").hide(),t.participant||t.waitinglist||t.maybe?(e.find(".dropdown-toggle").removeClass("btn-info").removeClass("btn-success").removeClass("btn-warning"),t.participant?(e.find(".label-going").show(),e.find(".infolabel.plabel-going").show(),e.find(".infolabel.plabel-notgoing").hide(),e.find(".dlabel.maybe").show(),e.find(".dlabel.going").show().css("font-weight","bold").prepend('<i class="fa fa-check"></i> ').parent().addClass("disabled"),e.find(".dropdown-toggle").addClass("btn-success")):t.waitinglist?(e.find(".label-waitinglist").show(),e.find(".infolabel.plabel-going").hide(),e.find(".infolabel.plabel-notgoing").show(),e.find(".dlabel.maybe").show(),e.find(".dropdown-toggle").addClass("btn-warning"),e.find(".dlabel.going").show().css("font-weight","bold").prepend('<i class="fa fa-check"></i> ').parent().addClass("disabled")):t.maybe&&(e.find(".label-maybe").show(),e.find(".infolabel.plabel-going").hide(),e.find(".infolabel.plabel-notgoing").show(),e.find(".dlabel.going").show(),e.find(".dropdown-toggle").addClass("btn-info"),e.find(".dlabel.maybe").show().css("font-weight","bold").prepend('<i class="fa fa-check"></i> ').parent().addClass("disabled")),e.find(".pselect").css("display","inline-block"),e.find(".dropdown-toggle").show()):(t.full?e.find(".btn-joinwl").show():e.find(".btn-join").show(),e.find(".btn-maybe").show(),e.find(".infolabel.plabel-going").hide(),e.find(".infolabel.plabel-notgoing").show()),e.find(".filled").text(t.filled),e.find(".size").text(t.size),(e=$("#ne-"+t.eid)).find(".plabel").hide(),t.participant?e.find(".plabel-going").show():t.maybe?e.find(".plabel-maybe").show():t.waitinglist?e.find(".plabel-waiting").show():e.find(".plabel-not").show()},a=function(){return i=$(this).data("url"),$.ajax({url:i,type:"GET",success:function(t){var e,n,i,a;for(a=[],n=0,i=t.length;n<i;n++)e=t[n],a.push(o(e));return a}}),$(this).find(".actions > button").click(function(){return n(this)}),$(this).find(".dropdown-menu a").click(function(){return n(this)})},n=function(t){var e,n;return e=$(t).closest(".event").data("id"),n=$(t).data("status"),$.ajax({url:i,method:"POST",data:{eid:e,status:n},success:function(t){return o(t)},error:function(){return alert("An unknown error occurred, please try again")}})},$(this).each(a),this},$(function(){var t;return $("#eventlist").eventlist(),$(".participant-avatar").tooltip({container:"body"}),t=document.location.hash,t&&$(".nav-tabs a[href="+t.replace("tab_","")+"]").tab("show"),$(".nav-tabs a").on("shown",function(t){return window.location.hash=t.target.hash.replace("#","#tab_")})})}.call(this),function(){$.fn.sessionvoter=function(t){var e;return null==t&&(t={}),e=function(){var n,t;return t=$(this).data("url"),n=this,$(this).find("a.vote").click(function(){return $.ajax({url:t,type:"POST",success:function(t,e){return $(n).find(".votes").text(t.votes),t.active?$(n).find("a.vote").removeClass("inactive").addClass("active"):$(n).find("a.vote").removeClass("active").addClass("inactive")}}),!1})},$(this).each(e),this},$(function(){return $(".votecontainer").sessionvoter(),$("#new-proposal-button").click(function(){return $(this).hide(),$("#proposal-form-container").show(),!1}),$("#proposal-cancel").click(function(){return $("#new-proposal-button").show(),$("#proposal-form-container").hide(),!1}),$(".session-edit-button").click(function(){return $(this).closest(".show-box").hide(),$(this).closest(".show-box").parent().find(".edit-box").show()}),$(".session-cancel-button").click(function(){return $(this).closest(".edit-box").hide(),$(this).closest(".edit-box").parent().find(".show-box").show()}),$(".session-delete-button").click(function(){var t,n,e;return t=$(this).data("confirm"),n=this,confirm(t)&&($(n).closest("article").css("background-color","red").slideUp(),e=$(this).data("url"),$.ajax({url:e,data:{method:"delete"},type:"POST",success:function(t,e){if("success"===t.status)return $(n).closest("article").css("background-color","red").slideUp()}})),!1}),$(".comment .deletebutton").click(function(){var t,e,n,i;return e=$(this).data("confirm"),i=$(this).data("url"),t=$(this).data("cid"),n=$(this).closest(".comment"),confirm(e)&&$.ajax({url:i,type:"POST",data:{method:"delete",cid:t},success:function(t){if("success"===t.status)return n.css("background","red"),n.slideUp()}}),!1}),$(".fav-actions .session-fav").click(function(){var e,t;return t=$(this).data("url"),e=this,$.ajax({url:t,type:"POST",success:function(t){return $(e).find("span.fav").hide(),t.fav?($(e).find("span.fav.yes").show(),$(e).closest(".sessionslot").addClass("faved")):($(e).find("span.fav.no").show(),$(e).closest(".sessionslot").removeClass("faved"))}}),!1}),$(".toggle-favs").click(function(){return $(this).toggleClass("active"),$(this).hasClass("active")?($(".sessionslot.cell .session-contents").hide(),$(".sessionslot.cell.faved .session-contents ").show()):$(".sessionslot.cell .session-contents").show(),!1})})}.call(this),function(){$.fn.uploader=function(t){var e;return null==t&&(t={}),e=function(t){var i,a,e,n,o,r;return r=this,n=$(this).data("preview-url"),o=$(this).data("upload-url"),$(this).data("delete-url"),a=$(this).data("id"),e=$("#"+a).val(),i="True"===$(this).data("autosubmit"),new qq.FileUploaderBasic({button:$(r).find(".uploadbutton")[0],action:o,multiple:!1,sizeLimit:10485760,allowedExtensions:["jpg","jpeg","png","gif"],onProgress:function(t,e,n,i){var a;return a=parseInt(Math.floor(n/i*100))+"%",$(r).find(".progress-bar").css("width",a)},onSubmit:function(t,e){return $(r).find(".progress-bar").css("width","0%"),$(r).find(".progress").show(),$(r).find(".preview-area").hide(),$(r).find(".missing-area").hide(),$(r).find(".uploader-buttons").hide()},onComplete:function(t,e,n){return"error"===n.status?($(r).find(".upload-area").show(),$(r).find(".progress").hide(),$(r).find(".uploader-buttons").show(),!1):"success"===n.status?($("#"+a).val(n.asset_id),n.url&&!i&&($(r).find(".preview-area img").attr("src",n.url),$(r).find(".progress").hide(),$(r).find(".preview-area").show()),n.redirect?void(window.location=n.redirect):n.parent_redirect?(window.parent.window.location=n.parent_redirect,void window.close()):i?void $(r).closest("form").submit():($(r).find(".revertbutton").show(),$(r).find(".deletebutton").hide(),$(r).find(".upload-area").show(),$(r).find(".progress").hide(),$(r).find(".uploader-buttons").show())):void 0}}),$(this).find(".deletebutton").click(function(){return $(r).find(".preview-area img").attr("src",""),$(r).find(".preview-area").hide(),e||$(r).find(".missing-area").show(),$(r).find(".deletebutton").hide(),$(r).find(".revertbutton").show(),$("#"+a).val(""),!1}),$(this).find(".revertbutton").click(function(){return $(r).find(".revertbutton").hide(),$(r).find(".preview-area img").attr("src",n),$("#"+a).val(e),e?($(r).find(".preview-area").show(),$(r).find(".deletebutton").show()):($(r).find(".preview-area img").attr("src",""),$(r).find(".preview-area").hide(),$(r).find(".deletebutton").hide(),$(r).find(".missing-area").show()),!1})},$(this).each(e),this},$(function(){return $(".upload-widget").uploader()})}.call(this),function(t){function o(t){return t.toISOString().replace(/-|:|\.\d+/g,"")}function r(t){return t.end?o(t.end):o(new Date(t.start.getTime()+6e4*t.duration))}var a={google:function(t){var e=o(t.start),n=r(t);return'<li><a target="_blank" href="'+encodeURI(["https://www.google.com/calendar/render","?action=TEMPLATE","&text="+(t.title||""),"&dates="+(e||""),"/"+(n||""),"&details="+(t.description||""),"&location="+(t.address||""),"&sprop=&sprop=name:"].join(""))+'"><i class="fa fa-google"></i> Google Calendar</a>'},yahoo:function(t){var e=t.end?(t.end.getTime()-t.start.getTime())/6e4:t.duration,n=(e<600?"0"+Math.floor(e/60):Math.floor(e/60)+"")+(e%60<10?"0"+e%60:e%60+""),i=o(new Date(t.start-6e4*t.start.getTimezoneOffset()))||"";return'<li><a target="_blank" href="'+encodeURI(["http://calendar.yahoo.com/?v=60&view=d&type=20","&title="+(t.title||""),"&st="+i,"&dur="+(n||""),"&desc="+(t.description||""),"&in_loc="+(t.address||"")].join(""))+'"><i class="fa fa-yahoo"></i> Yahoo! Calendar</a>'},ics:function(t,e,n){var i=o(t.start),a=r(t);return'<li><a target="_blank" href="'+encodeURI("data:text/calendar;charset=utf8,"+["BEGIN:VCALENDAR","VERSION:2.0","BEGIN:VEVENT","URL:"+document.URL,"DTSTART:"+(i||""),"DTEND:"+(a||""),"SUMMARY:"+(t.title||""),"DESCRIPTION:"+(t.description||""),"LOCATION:"+(t.address||""),"END:VEVENT","END:VCALENDAR"].join("\n"))+'"><i class="fa '+e+'"></i> '+n+" Calendar</a>"},ical:function(t){return this.ics(t,"fa-apple","iCal")},outlook:function(t){return this.ics(t,"fa-windows","Outlook")}};t.createCalendar=function(t){var e,n,i;if(void 0!==(e=t).data&&void 0!==e.data.start&&(void 0!==e.data.end||void 0!==e.data.duration))return function(t,e){var n=document.createElement("div");n.className="btn-group btn-block",n.innerHTML='<a type="button" class="btn btn-block btn-calendar dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">     <i class="fa fa-calendar"></i> '+t.options.title+' <span class="caret"></span></a>';var i=document.createElement("ul");return i.className="dropdown-menu",Object.keys(e).forEach(function(t){i.innerHTML+=e[t]}),n.appendChild(i),n}(t,(i=t.data,{google:a.google(i),yahoo:a.yahoo(i),ical:a.ical(i),outlook:a.outlook(i)}),(function(t){if(t.options&&t.options.class)t.options.class}(t),(n=t).options&&n.options.id?n.options.id:Math.floor(1e6*Math.random())));console.log("Event details missing.")}}(this);
//# sourceMappingURL=public.min.js.map